import{c as ne,p as ce,y as ve,z as D,A as de,C as _e,b as f,h as me,f as d,i as g,j as pe,l as ue,$ as ge,k as j,e as _,n as e,D as k,F as u,o as h,r as q,q as R,G as H,m,g as C,H as J,v as K,w as O,u as n,x as z,I as c,J as U,K as S}from"../chunks/DXSXZ86w.js";import{M as $}from"../chunks/nR5g_lFB.js";import{s as A}from"../chunks/BTEk0YJV.js";a[u]="src/routes/movies/+page.svelte";var fe=f(h('<div class="flex min-h-screen items-center justify-center"><div class="text-xl text-white">Loading movies...</div></div>'),a[u],[[75,2,[[76,3]]]]),he=f(h("<option> </option>"),a[u],[[95,7]]),be=f(h("<option> </option>"),a[u],[[115,7]]),ye=f(h('<div class="space-y-8"><!> <!> <!> <!></div>'),a[u],[[127,4]]),xe=f(h('<div class="py-12 text-center"><h2 class="mb-4 text-2xl font-bold text-white">No Movies Found</h2> <p class="text-gray-400">Try adjusting your filters or check back later.</p></div>'),a[u],[[136,4,[[137,5],[138,5]]]]),Me=f(h('<div class="px-12"><h1 class="mb-8 text-4xl font-black text-white">Movies</h1> <div class="mb-12 flex items-center space-x-8"><div><label for="genre-select" class="mb-2 block text-sm font-medium text-gray-400">Genre</label> <select id="genre-select" class="rounded border border-gray-700 bg-gray-800 px-4 py-2 text-white"></select></div> <div><label for="sort-select" class="mb-2 block text-sm font-medium text-gray-400">Sort By</label> <select id="sort-select" class="rounded border border-gray-700 bg-gray-800 px-4 py-2 text-white"></select></div> <div class="text-sm text-gray-400"> </div></div> <!></div>'),a[u],[[79,2,[[80,3],[83,3,[[85,4,[[86,5],[89,5]]],[105,4,[[106,5],[109,5]]],[120,4]]]]]]),we=f(h('<div class="min-h-screen bg-black pt-24"><!></div>'),a[u],[[73,0]]);function a(Q,V){ne(new.target),ce(V,!1,a);const E=k(),r=k();let G=k([]),P=k(!0),b=k("all"),F=k("popular");const W=["all","action","comedy","drama","horror","sci-fi","thriller","romance"],X=[{value:"popular",label:"Most Popular"},{value:"rating",label:"Highest Rated"},{value:"year",label:"Newest"}];ve(async()=>{try{(await q(A.initialize()))(),(await q(Y()))()}catch{}finally{R(P,!1)}});async function Y(){try{const[s,l,T]=(await q(Promise.allSettled([A.getCatalog("movie","top"),A.getCatalog("movie","year"),A.getCatalog("movie","imdbRating")])))(),y=new Map;[s,l,T].forEach(x=>{H(x.status,"fulfilled")&&x.value.forEach(M=>y.set(M.id,M))}),R(G,Array.from(y.values()))}catch{}}D(()=>(e(G),e(b)),()=>{R(E,e(G).filter(s=>H(e(b),"all")?!0:s.genre?.some(l=>l.toLowerCase().includes(e(b)))))}),D(()=>(e(E),e(F)),()=>{R(r,[...e(E)].sort((s,l)=>{switch(e(F)){case"rating":return parseFloat(l.imdbRating||"0")-parseFloat(s.imdbRating||"0");case"year":return parseInt(l.year||"0")-parseInt(s.year||"0");default:return 0}}))}),de(),_e();var I=we();me(s=>{ge.title="Movies - HighSeas"});var Z=_(I);{var ee=s=>{var l=fe();g(s,l)},te=s=>{var l=Me(),T=m(_(l),2),y=_(T),x=m(_(y),2);C(()=>{e(b),J(()=>{})}),d(()=>K(x,5,()=>W,O,(o,t)=>{var i=he(),w=_(i,!0);n(i);var p={};C(N=>{z(w,N),p!==(p=e(t))&&(i.value=(i.__value=e(t))??"")},[()=>(e(t),c(()=>H(e(t),"all")?"All Genres":e(t).charAt(0).toUpperCase()+e(t).slice(1)))]),g(o,i)}),"each",a,94,6),n(x),n(y);var M=m(y,2),L=m(_(M),2);C(()=>{e(F),J(()=>{})}),d(()=>K(L,5,()=>X,O,(o,t)=>{var i=be(),w=_(i,!0);n(i);var p={};C(()=>{z(w,(e(t),c(()=>e(t).label))),p!==(p=(e(t),c(()=>e(t).value)))&&(i.value=(i.__value=(e(t),c(()=>e(t).value)))??"")}),g(o,i)}),"each",a,114,6),n(L),n(M);var B=m(M,2),ae=_(B);n(B),n(T);var se=m(T,2);{var re=o=>{var t=ye(),i=_(t);{let v=S(()=>(e(r),c(()=>e(r).slice(0,10))));d(()=>$(i,{title:"New Releases",get items(){return e(v)}}),"component",a,128,5,{componentTag:"MovieRow"})}var w=m(i,2);{let v=S(()=>(e(r),c(()=>e(r).slice(10,20))));d(()=>$(w,{title:"Trending",get items(){return e(v)}}),"component",a,129,5,{componentTag:"MovieRow"})}var p=m(w,2);{let v=S(()=>(e(r),c(()=>e(r).slice(20,30))));d(()=>$(p,{title:"Top Rated",get items(){return e(v)}}),"component",a,130,5,{componentTag:"MovieRow"})}var N=m(p,2);{var ie=v=>{{let le=S(()=>(e(r),c(()=>e(r).slice(30,40))));d(()=>$(v,{title:"More Movies",get items(){return e(le)}}),"component",a,132,6,{componentTag:"MovieRow"})}};d(()=>j(N,v=>{e(r),c(()=>e(r).length>30)&&v(ie)}),"if",a,131,5)}n(t),g(o,t)},oe=o=>{var t=xe();g(o,t)};d(()=>j(se,o=>{e(r),c(()=>e(r).length>0)?o(re):o(oe,!1)}),"if",a,126,3)}n(l),C(()=>z(ae,`${e(r),c(()=>e(r).length)??""} movies found`)),U(x,()=>e(b),o=>R(b,o)),U(L,()=>e(F),o=>R(F,o)),g(s,l)};d(()=>j(Z,s=>{e(P)?s(ee):s(te,!1)}),"if",a,74,1)}return n(I),g(Q,I),pe({...ue()})}export{a as component};
//# sourceMappingURL=4.abAfEQDB.js.map
