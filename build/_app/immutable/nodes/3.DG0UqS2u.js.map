{"version":3,"file":"3.DG0UqS2u.js","sources":["../../../../../../src/routes/debug/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport { stremioService } from '$lib/services/stremio';\n\n\tlet testResults = $state<string[]>([]);\n\tlet loading = $state(false);\n\n\tconst testMovies = [\n\t\t{ id: 'tt0111161', name: 'The Shawshank Redemption' },\n\t\t{ id: 'tt0068646', name: 'The Godfather' },\n\t\t{ id: 'tt0468569', name: 'The Dark Knight' },\n\t\t{ id: 'tt0109830', name: 'Forrest Gump' }\n\t];\n\n\tasync function runStreamTests() {\n\t\tloading = true;\n\t\ttestResults = [];\n\n\t\ttry {\n\t\t\tawait stremioService.initialize();\n\t\t\ttestResults.push(\n\t\t\t\t`‚úÖ Stremio service initialized with ${stremioService.getAddons().length} addons`\n\t\t\t);\n\n\t\t\t// List all addons\n\t\t\tstremioService.getAddons().forEach((addon, i) => {\n\t\t\t\ttestResults.push(`üì± Addon ${i + 1}: ${addon.manifest.name}`);\n\t\t\t\ttestResults.push(`   - Resources: ${addon.manifest.resources.join(', ')}`);\n\t\t\t\ttestResults.push(`   - Base URL: ${addon.baseUrl}`);\n\t\t\t});\n\n\t\t\tfor (const movie of testMovies) {\n\t\t\t\ttestResults.push(`\\nüé¨ Testing: ${movie.name} (${movie.id})`);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst streams = await stremioService.getStreams('movie', movie.id);\n\t\t\t\t\ttestResults.push(`   ‚úÖ Found ${streams.length} streams`);\n\n\t\t\t\t\tif (streams.length > 0) {\n\t\t\t\t\t\ttestResults.push(`   üì∫ First stream: ${streams[0].title || streams[0].name}`);\n\t\t\t\t\t\ttestResults.push(`   üîó URL: ${streams[0].url.substring(0, 100)}...`);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\ttestResults.push(`   ‚ùå Error: ${error}`);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\ttestResults.push(`‚ùå Failed to initialize: ${error}`);\n\t\t} finally {\n\t\t\tloading = false;\n\t\t}\n\t}\n</script>\n\n<svelte:head>\n\t<title>Debug - Stream Testing</title>\n</svelte:head>\n\n<div class=\"min-h-screen bg-black p-8 text-white\">\n\t<div class=\"mx-auto max-w-4xl\">\n\t\t<h1 class=\"mb-8 text-3xl font-bold\">Stream Testing Debug Page</h1>\n\n\t\t<div class=\"mb-8\">\n\t\t\t<button\n\t\t\t\tonclick={runStreamTests}\n\t\t\t\tdisabled={loading}\n\t\t\t\tclass=\"rounded bg-red-600 px-6 py-3 font-medium transition-colors hover:bg-red-700 disabled:bg-gray-600\"\n\t\t\t>\n\t\t\t\t{loading ? 'Testing...' : 'Run Stream Tests'}\n\t\t\t</button>\n\t\t</div>\n\n\t\t{#if testResults.length > 0}\n\t\t\t<div class=\"rounded-lg bg-gray-900 p-6\">\n\t\t\t\t<h2 class=\"mb-4 text-xl font-semibold\">Test Results:</h2>\n\t\t\t\t<div class=\"space-y-1 font-mono text-sm\">\n\t\t\t\t\t{#each testResults as result}\n\t\t\t\t\t\t<div class=\"whitespace-pre-wrap\">{result}</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</div>\n"],"names":["runStreamTests","_","loading","testResults","testMovies","$.set","$.track_reactivity_loss","stremioService","$.get","addon","i","movie","streams","error","$.tag","$.state","$.proxy","$.each","div_4","result","$$render","consequent"],"mappings":"wSAcgB,eAAAA,EAAcC,EAAAC,EAAAC,EAAAC,EAAG,CAC/BC,EAAAH,EAAU,EAAI,IACdC,EAAW,CAAA,EAAA,EAAA,EAEP,GAAA,EACG,MAAAG,EAAAC,EAAe,WAAU,CAAA,GAAA,EAC/BC,EAAAL,CAAW,EAAC,KAAI,sCACuBI,EAAe,UAAS,EAAG,MAAM,SAAA,EAIxEA,EAAe,UAAS,EAAG,SAASE,EAAOC,IAAM,GAChDP,CAAW,EAAC,KAAI,YAAaO,EAAI,CAAC,KAAKD,EAAM,SAAS,IAAI,EAAA,IAC1DN,CAAW,EAAC,KAAI,mBAAoBM,EAAM,SAAS,UAAU,KAAK,IAAI,CAAA,EAAA,EACtED,EAAAL,CAAW,EAAC,KAAI,kBAAmBM,EAAM,OAAO,EAAA,CACjD,CAAC,YAEUE,KAASP,EAAY,GAC/BD,CAAW,EAAC,KAAI;AAAA,cAAkBQ,EAAM,IAAI,KAAKA,EAAM,EAAE,GAAA,EAErD,GAAA,OACGC,GAAO,MAAAN,EAASC,EAAe,WAAW,QAASI,EAAM,EAAE,CAAA,GAAA,EACjEH,EAAAL,CAAW,EAAC,KAAI,cAAeS,EAAQ,MAAM,UAAA,EAEzCA,EAAQ,OAAS,IACpBJ,EAAAL,CAAW,EAAC,KAAI,uBAAwBS,EAAQ,CAAC,EAAE,OAASA,EAAQ,CAAC,EAAE,IAAI,EAAA,EAC3EJ,EAAAL,CAAW,EAAC,KAAI,cAAeS,EAAQ,CAAC,EAAE,IAAI,UAAU,EAAG,GAAG,CAAA,KAAA,EAEhE,OAASC,EAAO,GACfV,CAAW,EAAC,KAAI,eAAgBU,CAAK,EAAA,CACtC,CACD,CACD,OAASA,EAAO,GACfV,CAAW,EAAC,KAAI,2BAA4BU,CAAK,EAAA,CAClD,QAAC,CACAR,EAAAH,EAAU,EAAK,CAChB,CACD,uoBAnDD,6BAIKC,EAAWW,EAAAC,EAAAC,EAAA,CAAA,CAAA,CAAA,EAAA,aAAA,EACXd,MAAiB,EAAK,EAAA,SAAA,QAEpBE,EAAU,CACb,CAAA,GAAI,YAAa,KAAM,0BAA0B,EACjD,CAAA,GAAI,YAAa,KAAM,eAAe,EACtC,CAAA,GAAI,YAAa,KAAM,iBAAiB,EACxC,CAAA,GAAI,YAAa,KAAM,cAAc,+FAqD5BJ,EAAcE,EAAAC,EAAAC,CAAA,0EAYf,IAAAa,EAAAC,EAAA,GAAA,IAAAV,EAAAL,CAAW,OAAIgB,IAAM,sCACOA,CAAM,CAAA,CAAA,4DALvChB,CAAW,EAAC,OAAS,GAACiB,EAAAC,CAAA,sDAPfnB,CAAO,QAGhBA,CAAO,EAAG,aAAe,kBAAkB,sBAhBhD"}