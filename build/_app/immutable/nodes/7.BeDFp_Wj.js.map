{"version":3,"file":"7.BeDFp_Wj.js","sources":["../../../../../../src/routes/settings/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport { Plus, Trash2, ExternalLink } from 'lucide-svelte';\n\timport { stremioService } from '$lib/services/stremio';\n\timport type { StremioAddon } from '$lib/services/stremio';\n\n\tlet addons: StremioAddon[] = [];\n\tlet newAddonUrl = '';\n\tlet loading = false;\n\tlet error = '';\n\n\tonMount(() => {\n\t\tloadAddons();\n\t});\n\n\tfunction loadAddons() {\n\t\taddons = stremioService.getAddons();\n\t}\n\n\tasync function addAddon() {\n\t\tif (!newAddonUrl.trim()) return;\n\n\t\tloading = true;\n\t\terror = '';\n\n\t\ttry {\n\t\t\t// Ensure URL ends with manifest.json\n\t\t\tlet manifestUrl = newAddonUrl.trim();\n\t\t\tif (!manifestUrl.endsWith('/manifest.json')) {\n\t\t\t\tif (!manifestUrl.endsWith('/')) {\n\t\t\t\t\tmanifestUrl += '/';\n\t\t\t\t}\n\t\t\t\tmanifestUrl += 'manifest.json';\n\t\t\t}\n\n\t\t\tawait stremioService.addAddon(manifestUrl);\n\t\t\tloadAddons();\n\t\t\tnewAddonUrl = '';\n\t\t} catch (err) {\n\t\t\terror = err instanceof Error ? err.message : 'Failed to add addon';\n\t\t} finally {\n\t\t\tloading = false;\n\t\t}\n\t}\n\n\tfunction removeAddon(index: number) {\n\t\t// In a real implementation, you'd have a removeAddon method in the service\n\t\t// For now, we'll just remove from the local array\n\t\taddons = addons.filter((_, i) => i !== index);\n\t}\n\n\tfunction handleKeydown(event: KeyboardEvent) {\n\t\tif (event.key === 'Enter') {\n\t\t\taddAddon();\n\t\t}\n\t}\n</script>\n\n<svelte:head>\n\t<title>Settings - Stremio</title>\n</svelte:head>\n\n<div class=\"px-6 pt-20\">\n\t<div class=\"mx-auto max-w-4xl\">\n\t\t<h1 class=\"mb-8 text-3xl font-bold text-white\">Settings</h1>\n\n\t\t<!-- Add Addon Section -->\n\t\t<section class=\"mb-8 rounded-lg bg-gray-800 p-6\">\n\t\t\t<h2 class=\"mb-4 text-xl font-semibold text-white\">Add Stremio Addon</h2>\n\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<label for=\"addon-url\" class=\"mb-2 block text-sm font-medium text-gray-300\">\n\t\t\t\t\t\tAddon URL\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"flex space-x-3\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"addon-url\"\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\tbind:value={newAddonUrl}\n\t\t\t\t\t\t\tonkeydown={handleKeydown}\n\t\t\t\t\t\t\tplaceholder=\"https://example.com/addon\"\n\t\t\t\t\t\t\tclass=\"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-red-500 focus:ring-1 focus:ring-red-500 focus:outline-none\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonclick={addAddon}\n\t\t\t\t\t\t\tdisabled={loading || !newAddonUrl.trim()}\n\t\t\t\t\t\t\tclass=\"flex items-center space-x-2 rounded-lg bg-red-600 px-6 py-2 font-medium text-white transition-colors hover:bg-red-700 disabled:cursor-not-allowed disabled:bg-gray-600\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Plus class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t<span>{loading ? 'Adding...' : 'Add'}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{#if error}\n\t\t\t\t\t\t<p class=\"mt-2 text-sm text-red-400\">{error}</p>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"text-sm text-gray-400\">\n\t\t\t\t\t<p class=\"mb-2\">Enter the base URL of a Stremio addon. Examples:</p>\n\t\t\t\t\t<ul class=\"ml-4 list-inside list-disc space-y-1\">\n\t\t\t\t\t\t<li>https://addon-example.com</li>\n\t\t\t\t\t\t<li>https://my-addon.herokuapp.com</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\n\t\t<!-- Installed Addons -->\n\t\t<section class=\"rounded-lg bg-gray-800 p-6\">\n\t\t\t<h2 class=\"mb-4 text-xl font-semibold text-white\">\n\t\t\t\tInstalled Addons ({addons.length})\n\t\t\t</h2>\n\n\t\t\t{#if addons.length === 0}\n\t\t\t\t<div class=\"py-8 text-center\">\n\t\t\t\t\t<div class=\"mb-2 text-gray-400\">No addons installed</div>\n\t\t\t\t\t<div class=\"text-sm text-gray-500\">Add your first addon above to get started</div>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t{#each addons as addon, index (addon.manifest.id)}\n\t\t\t\t\t\t<div class=\"rounded-lg border border-gray-700 p-4\">\n\t\t\t\t\t\t\t<div class=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"mb-2 flex items-center space-x-3\">\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"text-lg font-medium text-white\">{addon.manifest.name}</h3>\n\t\t\t\t\t\t\t\t\t\t<span class=\"rounded bg-gray-700 px-2 py-1 text-xs text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tv{addon.manifest.version}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p class=\"mb-3 text-sm text-gray-300\">{addon.manifest.description}</p>\n\n\t\t\t\t\t\t\t\t\t<div class=\"mb-3 flex flex-wrap gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-400\">Types:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-1 text-white\">{addon.manifest.types.join(', ')}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-400\">Resources:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-1 text-white\">{addon.manifest.resources.join(', ')}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{#if addon.manifest.catalogs && addon.manifest.catalogs.length > 0}\n\t\t\t\t\t\t\t\t\t\t<div class=\"mb-2 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-400\">Catalogs:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-1 text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{addon.manifest.catalogs.map((c) => c.name).join(', ')}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center space-x-4 text-xs text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={addon.baseUrl}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center space-x-1 transition-colors hover:text-white\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink class=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t<span>View Addon</span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonclick={() => removeAddon(index)}\n\t\t\t\t\t\t\t\t\tclass=\"p-2 text-gray-400 transition-colors hover:text-red-400\"\n\t\t\t\t\t\t\t\t\ttitle=\"Remove addon\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Trash2 class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</section>\n\n\t\t<!-- Instructions -->\n\t\t<section class=\"mt-8 text-sm text-gray-400\">\n\t\t\t<h3 class=\"mb-2 font-medium text-white\">How to use Stremio Addons</h3>\n\t\t\t<ul class=\"ml-4 list-inside list-disc space-y-1\">\n\t\t\t\t<li>Find Stremio addons from the official community or create your own</li>\n\t\t\t\t<li>Each addon provides different types of content (movies, series, etc.)</li>\n\t\t\t\t<li>Addons must implement the Stremio addon protocol</li>\n\t\t\t\t<li>Content availability depends on the addon's implementation</li>\n\t\t\t</ul>\n\t\t</section>\n\t</div>\n</div>\n"],"names":["handleKeydown","event","addAddon","$.strict_equals","addons","$.mutable_source","newAddonUrl","loading","error","onMount","loadAddons","stremioService","$.get","$.set","manifestUrl","err","removeAddon","index","_","i","$$render","consequent","$.validate_each_keys","addon","$$anchor","c","consequent_2","button_1","$.set_attribute","a","consequent_1","alternate","$.set_text","text_2","$.bind_value","input","$$value"],"mappings":"mYAmDUA,GAAcC,EAAoBC,EAAE,CACxCC,EAAAF,EAAM,IAAQ,OAAO,GACxBC,EAAQ,CAEV,yhHAvDD,+BAMKE,EAAsBC,EAAA,EAAA,EACtBC,IAAc,EAAE,EAChBC,IAAU,EAAK,EACfC,IAAQ,EAAE,EAEdC,GAAO,IAAO,CACbC,EAAU,CACX,CAAC,EAEQ,SAAAA,GAAa,GACrBN,EAASO,GAAe,WAAS,CAClC,CAEe,eAAAT,GAAW,CACpB,GAAAU,EAAAN,CAAW,EAAC,KAAI,EAErBO,CAAAA,EAAAN,EAAU,EAAI,EACdM,EAAAL,EAAQ,EAAE,EAEN,GAAA,KAECM,EAAWF,EAAGN,CAAW,EAAC,KAAI,EAC7BQ,EAAY,SAAS,gBAAgB,IACpCA,EAAY,SAAS,GAAG,IAC5BA,GAAe,KAEhBA,GAAe,2BAGVH,GAAe,SAASG,CAAW,CAAA,GAAA,EACzCJ,EAAU,EACVG,EAAAP,EAAc,EAAE,CACjB,OAASS,EAAK,GACbP,EAAQO,aAAe,MAAQA,EAAI,QAAU,qBAAqB,CACnE,QAAC,CACAF,EAAAN,EAAU,EAAK,CAChB,EACD,UAESS,GAAYC,EAAe,GAGnCb,EAAMQ,EAAGR,CAAM,EAAC,OAAM,CAAEc,EAAGC,IAAChB,EAAKgB,EAAMF,EAAK,EAAA,CAAA,CAAA,CAC7C,wIA+BiBjB,GAAaE,CAAA,yBAKfA,4LAS4BM,CAAK,CAAA,CAAA,2BADvCA,CAAK,GAAAY,EAAAC,EAAA,qIA4BHC,GAAA,IAAAV,EAAAR,CAAM,EAAImB,GAAcA,EAAM,SAAS,EAAE,qBAAzCnB,CAAM,EAAImB,GAAcA,EAAM,SAAS,GAAE,CAAAC,EAA/BD,EAAKN,KAAA,+TA4Bd,IAAAL,EAAAW,CAAK,EAAC,SAAS,SAAS,IAAKE,GAAMA,EAAE,IAAI,EAAE,KAAK,IAAI,2BAJnDb,EAAAW,CAAK,EAAC,SAAS,UAAQX,EAAIW,CAAK,EAAC,SAAS,SAAS,OAAS,GAACH,EAAAM,EAAA,sKAuBnDC,EAAA,QAAA,IAAAX,KAAYC,EAAK,CAAA,0HA1CaM,CAAK,EAAC,SAAS,IAAI,aAE5DA,CAAK,EAAC,SAAS,SAAO,EAAA,EAAA,SAIaA,CAAK,EAAC,SAAS,WAAW,kBAwBzDK,GAAAC,EAAA,OAAAjB,EAAAW,CAAK,EAAC,OAAO,IAnBY,IAAAX,EAAAW,CAAK,EAAC,SAAS,MAAM,KAAK,IAAI,EAI9B,IAAAX,EAAAW,CAAK,EAAC,SAAS,UAAU,KAAK,IAAI,6DA3BpEnB,CAAM,EAAC,OAAW,CAAC,EAAAgB,EAAAU,EAAA,EAAAV,EAAAW,GAAA,EAAA,uEAxBbxB,CAAO,EAAG,YAAc,KAAK,EAqBpByB,EAAAC,GAAA,qBAAArB,EAAAR,CAAM,EAAC,QAAM,EAAA,GAAA,UAzBnBG,CAAO,GAAA,CAAAK,EAAKN,CAAW,EAAC,KAAI,CAAA,GAP1B4B,GAAAC,EAAA,IAAAvB,EAAAN,CAAW,OAAXA,EAAW8B,CAAA,CAAA,sBAvB9B"}